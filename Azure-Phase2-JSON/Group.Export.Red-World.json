{
  "$schema": "https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "availabilitySets_Red_Web_Servers_name": {
      "type": "String"
    },
    "disks_Web_1_OsDisk_1_62a2165a0e1141f19fd81e565e0e331c_name": {
      "type": "String"
    },
    "disks_Web_1_OsDisk_1_dc3a5294a88d4968970d8c8b870edddb_name": {
      "type": "String"
    },
    "extensions_enablevmaccess_expiration": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_expiration_1": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_password": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_password_1": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_remove_user": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_remove_user_1": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_reset_ssh": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_reset_ssh_1": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_ssh_key": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_ssh_key_1": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_username": {
      "type": "SecureString"
    },
    "extensions_enablevmaccess_username_1": {
      "type": "SecureString"
    },
    "loadBalancers_Red_Web_LoadBalancer_name": {
      "type": "String"
    },
    "networkInterfaces_elk466_name": {
      "type": "String"
    },
    "networkInterfaces_jump_box_provisioner46_name": {
      "type": "String"
    },
    "networkInterfaces_web_1741_name": {
      "type": "String"
    },
    "networkInterfaces_web_2958_name": {
      "type": "String"
    },
    "networkSecurityGroups_Elk_nsg_name": {
      "type": "String"
    },
    "networkSecurityGroups_Red_Network_Security_Group_1_name": {
      "type": "String"
    },
    "publicIPAddresses_Elk_ip_name": {
      "type": "String"
    },
    "publicIPAddresses_Jump_Box_Provisioner_ip_name": {
      "type": "String"
    },
    "publicIPAddresses_LoadBalancer1_name": {
      "type": "String"
    },
    "publicIPAddresses_Red_Web_LB_FrontEnd_IP_name": {
      "type": "String"
    },
    "publicIPAddresses_Web_1_ip_name": {
      "type": "String"
    },
    "virtualMachines_Elk_name": {
      "type": "String"
    },
    "virtualMachines_Jump_Box_Provisioner_name": {
      "type": "String"
    },
    "virtualMachines_Web_1_name": {
      "type": "String"
    },
    "virtualMachines_Web_2_name": {
      "type": "String"
    },
    "virtualNetworks_Net_1_name": {
      "type": "String"
    },
    "virtualNetworks_Net_2_West_name": {
      "type": "String"
    }
  },
  "resources": [
    {
      "apiVersion": "2021-04-01",
      "location": "eastus",
      "name": "[parameters('disks_Web_1_OsDisk_1_62a2165a0e1141f19fd81e565e0e331c_name')]",
      "properties": {
        "creationData": {
          "createOption": "FromImage",
          "imageReference": {
            "id": "/Subscriptions/64107809-9018-4feb-af5a-01906e70189d/Providers/Microsoft.Compute/Locations/eastus/Publishers/canonical/ArtifactTypes/VMImage/Offers/0001-com-ubuntu-server-focal/Skus/20_04-lts-gen2/Versions/20.04.202111080"
          }
        },
        "diskIOPSReadWrite": 120,
        "diskMBpsReadWrite": 25,
        "diskSizeGB": 30,
        "diskState": "Unattached",
        "encryption": {
          "type": "EncryptionAtRestWithPlatformKey"
        },
        "hyperVGeneration": "V2",
        "networkAccessPolicy": "AllowAll",
        "osType": "Linux",
        "publicNetworkAccess": "Enabled",
        "supportedCapabilities": {},
        "tier": "P4"
      },
      "sku": {
        "name": "Premium_LRS",
        "tier": "Premium"
      },
      "type": "Microsoft.Compute/disks"
    },
    {
      "apiVersion": "2021-04-01",
      "location": "eastus",
      "name": "[parameters('disks_Web_1_OsDisk_1_dc3a5294a88d4968970d8c8b870edddb_name')]",
      "properties": {
        "creationData": {
          "createOption": "FromImage",
          "imageReference": {
            "id": "/Subscriptions/64107809-9018-4feb-af5a-01906e70189d/Providers/Microsoft.Compute/Locations/eastus/Publishers/canonical/ArtifactTypes/VMImage/Offers/0001-com-ubuntu-server-focal/Skus/20_04-lts-gen2/Versions/20.04.202111080"
          }
        },
        "diskIOPSReadWrite": 120,
        "diskMBpsReadWrite": 25,
        "diskSizeGB": 30,
        "diskState": "Unattached",
        "encryption": {
          "type": "EncryptionAtRestWithPlatformKey"
        },
        "hyperVGeneration": "V2",
        "networkAccessPolicy": "AllowAll",
        "osType": "Linux",
        "publicNetworkAccess": "Enabled",
        "supportedCapabilities": {},
        "tier": "P4"
      },
      "sku": {
        "name": "Premium_LRS",
        "tier": "Premium"
      },
      "type": "Microsoft.Compute/disks"
    },
    {
      "apiVersion": "2020-11-01",
      "location": "westus2",
      "name": "[parameters('networkSecurityGroups_Elk_nsg_name')]",
      "properties": {
        "securityRules": [
          {
            "name": "SSH",
            "properties": {
              "access": "Allow",
              "destinationAddressPrefix": "10.1.0.4",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "22",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "priority": 200,
              "protocol": "TCP",
              "sourceAddressPrefix": "10.0.0.4",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": []
            }
          },
          {
            "name": "AllowKibanaPort",
            "properties": {
              "access": "Allow",
              "destinationAddressPrefix": "10.1.0.4",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "5601",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "priority": 210,
              "protocol": "TCP",
              "sourceAddressPrefix": "76.103.227.48",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": []
            }
          },
          {
            "name": "Beats_to_ELK",
            "properties": {
              "access": "Allow",
              "destinationAddressPrefix": "10.1.0.4",
              "destinationAddressPrefixes": [],
              "destinationPortRanges": [
                "9200",
                "5601",
                "5044"
              ],
              "direction": "Inbound",
              "priority": 220,
              "protocol": "*",
              "sourceAddressPrefix": "10.0.0.0/16",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": []
            }
          }
        ]
      },
      "type": "Microsoft.Network/networkSecurityGroups"
    },
    {
      "apiVersion": "2020-11-01",
      "location": "eastus",
      "name": "[parameters('networkSecurityGroups_Red_Network_Security_Group_1_name')]",
      "properties": {
        "securityRules": [
          {
            "name": "Allow-Ralph-at-Home",
            "properties": {
              "access": "Allow",
              "destinationAddressPrefix": "10.0.0.4",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "22",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "priority": 110,
              "protocol": "TCP",
              "sourceAddressPrefix": "76.103.227.48",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": []
            }
          },
          {
            "name": "SSH-from-JumpBox",
            "properties": {
              "access": "Allow",
              "destinationAddressPrefix": "VirtualNetwork",
              "destinationAddressPrefixes": [],
              "destinationPortRange": "22",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "priority": 120,
              "protocol": "TCP",
              "sourceAddressPrefix": "10.0.0.4",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": []
            }
          },
          {
            "name": "Port_80_From_Loreto_to_WebSrvrs",
            "properties": {
              "access": "Allow",
              "destinationAddressPrefixes": [
                "10.0.0.6",
                "10.0.0.8"
              ],
              "destinationPortRange": "80",
              "destinationPortRanges": [],
              "direction": "Inbound",
              "priority": 100,
              "protocol": "TCP",
              "sourceAddressPrefix": "76.103.227.48",
              "sourceAddressPrefixes": [],
              "sourcePortRange": "*",
              "sourcePortRanges": []
            }
          }
        ]
      },
      "type": "Microsoft.Network/networkSecurityGroups"
    },
    {
      "apiVersion": "2020-11-01",
      "location": "westus2",
      "name": "[parameters('publicIPAddresses_Elk_ip_name')]",
      "properties": {
        "idleTimeoutInMinutes": 4,
        "ipAddress": "20.112.97.100",
        "ipTags": [],
        "publicIPAddressVersion": "IPv4",
        "publicIPAllocationMethod": "Static"
      },
      "sku": {
        "name": "Basic",
        "tier": "Regional"
      },
      "type": "Microsoft.Network/publicIPAddresses"
    },
    {
      "apiVersion": "2020-11-01",
      "location": "eastus",
      "name": "[parameters('publicIPAddresses_Jump_Box_Provisioner_ip_name')]",
      "properties": {
        "idleTimeoutInMinutes": 4,
        "ipAddress": "20.124.33.137",
        "ipTags": [],
        "publicIPAddressVersion": "IPv4",
        "publicIPAllocationMethod": "Static"
      },
      "sku": {
        "name": "Basic",
        "tier": "Regional"
      },
      "type": "Microsoft.Network/publicIPAddresses"
    },
    {
      "apiVersion": "2020-11-01",
      "location": "eastus",
      "name": "[parameters('publicIPAddresses_LoadBalancer1_name')]",
      "properties": {
        "idleTimeoutInMinutes": 4,
        "ipAddress": "20.106.217.169",
        "ipTags": [],
        "publicIPAddressVersion": "IPv4",
        "publicIPAllocationMethod": "Static"
      },
      "sku": {
        "name": "Standard",
        "tier": "Regional"
      },
      "type": "Microsoft.Network/publicIPAddresses",
      "zones": [
        "1"
      ]
    },
    {
      "apiVersion": "2020-11-01",
      "location": "eastus",
      "name": "[parameters('publicIPAddresses_Red_Web_LB_FrontEnd_IP_name')]",
      "properties": {
        "idleTimeoutInMinutes": 4,
        "ipAddress": "20.124.111.167",
        "ipTags": [],
        "publicIPAddressVersion": "IPv4",
        "publicIPAllocationMethod": "Static"
      },
      "sku": {
        "name": "Basic",
        "tier": "Regional"
      },
      "type": "Microsoft.Network/publicIPAddresses"
    },
    {
      "apiVersion": "2020-11-01",
      "location": "eastus",
      "name": "[parameters('publicIPAddresses_Web_1_ip_name')]",
      "properties": {
        "idleTimeoutInMinutes": 4,
        "ipTags": [],
        "publicIPAddressVersion": "IPv4",
        "publicIPAllocationMethod": "Dynamic"
      },
      "sku": {
        "name": "Basic",
        "tier": "Regional"
      },
      "type": "Microsoft.Network/publicIPAddresses"
    },
    {
      "apiVersion": "2021-07-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_elk466_name'))]"
      ],
      "location": "westus2",
      "name": "[parameters('virtualMachines_Elk_name')]",
      "properties": {
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true
          }
        },
        "hardwareProfile": {
          "vmSize": "Standard_D2s_v5"
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_elk466_name'))]",
              "properties": {
                "deleteOption": "Detach"
              }
            }
          ]
        },
        "osProfile": {
          "adminUsername": "ralph",
          "allowExtensionOperations": true,
          "computerName": "[parameters('virtualMachines_Elk_name')]",
          "linuxConfiguration": {
            "disablePasswordAuthentication": true,
            "patchSettings": {
              "assessmentMode": "ImageDefault",
              "patchMode": "ImageDefault"
            },
            "provisionVMAgent": true,
            "ssh": {
              "publicKeys": [
                {
                  "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDDoqCKT+xbkY0nJuLKhd9aGVTxwFzN3hbQcCpUO+ljBmxkktwswKQwSchQ4heSkR2INoQy/BM5OIsKYX9i0C3XnamVOr8pvt8SzkTFSEPf7/lUNxJ+D4nqpX6suDHnLPmrOMA4/CwAyjfqdH4OKuqOIk8KAHqGI8Ou/V1RD1YyeRFoxAvIp83GH6/RPsVyF0uTnYN9zJuWCYq4WvzZW9b3S0HgXDxwXK243GcSwFoEWmeonVir85ISSQzz46mqknDcM/BznwJp3I3Uej+mFMNyCHPH5gK2YZmC+OxEtmZ/p8bw8Yuo16TCvKRVkdrB2PrxziqXeLu0gx+n4BsTJoy4qqdyDR7e6yX5vJcUR1rOrXNxCQRNH44C5GaoOns0hTf9vJO6CsaWsUmT4W17s61KaPux3ylTGubvWkcFmCuBZX2lADTJqISqGL/FxZ8zgtf49cnk2Okg8Q+0RMJXmg2Apr59scTgAZYp2D8DBAdYL0UL9Ht4UYWKM8ozHSa8GF0= root@ae75ace0a771",
                  "path": "/home/ralph/.ssh/authorized_keys"
                }
              ]
            }
          },
          "requireGuestProvisionSignal": true,
          "secrets": []
        },
        "storageProfile": {
          "dataDisks": [],
          "imageReference": {
            "offer": "0001-com-ubuntu-server-focal",
            "publisher": "canonical",
            "sku": "20_04-lts-gen2",
            "version": "latest"
          },
          "osDisk": {
            "caching": "ReadWrite",
            "createOption": "FromImage",
            "deleteOption": "Delete",
            "managedDisk": {
              "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_Elk_name'), '_OsDisk_1_708a489ffd8d401a89231ae2daa12e0a'))]"
            },
            "name": "[concat(parameters('virtualMachines_Elk_name'), '_OsDisk_1_708a489ffd8d401a89231ae2daa12e0a')]",
            "osType": "Linux"
          }
        }
      },
      "type": "Microsoft.Compute/virtualMachines"
    },
    {
      "apiVersion": "2021-07-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_jump_box_provisioner46_name'))]"
      ],
      "location": "eastus",
      "name": "[parameters('virtualMachines_Jump_Box_Provisioner_name')]",
      "properties": {
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true
          }
        },
        "hardwareProfile": {
          "vmSize": "Standard_B1s"
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_jump_box_provisioner46_name'))]"
            }
          ]
        },
        "osProfile": {
          "adminUsername": "ralph",
          "allowExtensionOperations": true,
          "computerName": "[parameters('virtualMachines_Jump_Box_Provisioner_name')]",
          "linuxConfiguration": {
            "disablePasswordAuthentication": true,
            "patchSettings": {
              "assessmentMode": "ImageDefault",
              "patchMode": "ImageDefault"
            },
            "provisionVMAgent": true,
            "ssh": {
              "publicKeys": [
                {
                  "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDKZvAYufZKjiXAioQdck28rHbnlWlp5srxVJuTE824jg+ZQFZ7ytzjoVWCnJY1vU2mnl693KeHz7iGvKABqKd0Yw4/EqhFwQdKE9qfbQVJ6Lix+oHXpesKncEDfEshhoa8krsw84wseiU6GwGLnpbR33km0RnUjl+E/3lKjBfLAKBBMcr52wdwmpf0sDgYgOZEYHxvlu7asICjA9Qyy0SrxJ6d1OHGAkQ4lgqnUODn52lXz2NyzOnrCYle/CUqYxdfUC5TmopWrWq30KKsAdkZ5TSeN4qqkpdJDsfun99U3VoOWfcuB7LRAH1JcV/m6EXnkrnL3UKX9WRnvsxXKHJ3a3b+ZgL8bsTuxOVEMpeiyVGeIWktkr5DQrB/A43MCFhExSQ3IZpN+QTxiINVTNuklU5RyYV7pU/BqKrJkuaHOwSoDpODlXfxcqrRbZfClAoaRDitFQBGdl8s3us1uclj4TKi495I94k5WHCNB+oo2Tn9sogU34IGcwsjHaatXp8= ralph@Ralph-5420",
                  "path": "/home/ralph/.ssh/authorized_keys"
                }
              ]
            }
          },
          "requireGuestProvisionSignal": true,
          "secrets": []
        },
        "storageProfile": {
          "dataDisks": [],
          "imageReference": {
            "offer": "0001-com-ubuntu-server-focal",
            "publisher": "canonical",
            "sku": "20_04-lts-gen2",
            "version": "latest"
          },
          "osDisk": {
            "caching": "ReadWrite",
            "createOption": "FromImage",
            "deleteOption": "Detach",
            "managedDisk": {
              "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_Jump_Box_Provisioner_name'), '_OsDisk_1_94c7ffc2bc5d4e1f8ca89abad65f05da'))]"
            },
            "name": "[concat(parameters('virtualMachines_Jump_Box_Provisioner_name'), '_OsDisk_1_94c7ffc2bc5d4e1f8ca89abad65f05da')]",
            "osType": "Linux"
          }
        }
      },
      "type": "Microsoft.Compute/virtualMachines"
    },
    {
      "apiVersion": "2021-07-01",
      "dependsOn": [
        "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_Web_1_name'))]"
      ],
      "location": "eastus",
      "name": "[concat(parameters('virtualMachines_Web_1_name'), '/enablevmaccess')]",
      "properties": {
        "autoUpgradeMinorVersion": true,
        "protectedSettings": {
          "expiration": "[parameters('extensions_enablevmaccess_expiration')]",
          "password": "[parameters('extensions_enablevmaccess_password')]",
          "remove_user": "[parameters('extensions_enablevmaccess_remove_user')]",
          "reset_ssh": "[parameters('extensions_enablevmaccess_reset_ssh')]",
          "ssh_key": "[parameters('extensions_enablevmaccess_ssh_key')]",
          "username": "[parameters('extensions_enablevmaccess_username')]"
        },
        "publisher": "Microsoft.OSTCExtensions",
        "settings": {},
        "type": "VMAccessForLinux",
        "typeHandlerVersion": "1.4"
      },
      "type": "Microsoft.Compute/virtualMachines/extensions"
    },
    {
      "apiVersion": "2021-07-01",
      "dependsOn": [
        "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_Web_2_name'))]"
      ],
      "location": "eastus",
      "name": "[concat(parameters('virtualMachines_Web_2_name'), '/enablevmaccess')]",
      "properties": {
        "autoUpgradeMinorVersion": true,
        "protectedSettings": {
          "expiration": "[parameters('extensions_enablevmaccess_expiration_1')]",
          "password": "[parameters('extensions_enablevmaccess_password_1')]",
          "remove_user": "[parameters('extensions_enablevmaccess_remove_user_1')]",
          "reset_ssh": "[parameters('extensions_enablevmaccess_reset_ssh_1')]",
          "ssh_key": "[parameters('extensions_enablevmaccess_ssh_key_1')]",
          "username": "[parameters('extensions_enablevmaccess_username_1')]"
        },
        "publisher": "Microsoft.OSTCExtensions",
        "settings": {},
        "type": "VMAccessForLinux",
        "typeHandlerVersion": "1.4"
      },
      "type": "Microsoft.Compute/virtualMachines/extensions"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/loadBalancers', parameters('loadBalancers_Red_Web_LoadBalancer_name'))]"
      ],
      "name": "[concat(parameters('loadBalancers_Red_Web_LoadBalancer_name'), '/Red-Web-Backend-Pool')]",
      "properties": {},
      "type": "Microsoft.Network/loadBalancers/backendAddressPools"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Elk_nsg_name'))]"
      ],
      "name": "[concat(parameters('networkSecurityGroups_Elk_nsg_name'), '/AllowKibanaPort')]",
      "properties": {
        "access": "Allow",
        "destinationAddressPrefix": "10.1.0.4",
        "destinationAddressPrefixes": [],
        "destinationPortRange": "5601",
        "destinationPortRanges": [],
        "direction": "Inbound",
        "priority": 210,
        "protocol": "TCP",
        "sourceAddressPrefix": "76.103.227.48",
        "sourceAddressPrefixes": [],
        "sourcePortRange": "*",
        "sourcePortRanges": []
      },
      "type": "Microsoft.Network/networkSecurityGroups/securityRules"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
      ],
      "name": "[concat(parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'), '/Allow-Ralph-at-Home')]",
      "properties": {
        "access": "Allow",
        "destinationAddressPrefix": "10.0.0.4",
        "destinationAddressPrefixes": [],
        "destinationPortRange": "22",
        "destinationPortRanges": [],
        "direction": "Inbound",
        "priority": 110,
        "protocol": "TCP",
        "sourceAddressPrefix": "76.103.227.48",
        "sourceAddressPrefixes": [],
        "sourcePortRange": "*",
        "sourcePortRanges": []
      },
      "type": "Microsoft.Network/networkSecurityGroups/securityRules"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Elk_nsg_name'))]"
      ],
      "name": "[concat(parameters('networkSecurityGroups_Elk_nsg_name'), '/Beats_to_ELK')]",
      "properties": {
        "access": "Allow",
        "destinationAddressPrefix": "10.1.0.4",
        "destinationAddressPrefixes": [],
        "destinationPortRanges": [
          "9200",
          "5601",
          "5044"
        ],
        "direction": "Inbound",
        "priority": 220,
        "protocol": "*",
        "sourceAddressPrefix": "10.0.0.0/16",
        "sourceAddressPrefixes": [],
        "sourcePortRange": "*",
        "sourcePortRanges": []
      },
      "type": "Microsoft.Network/networkSecurityGroups/securityRules"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
      ],
      "name": "[concat(parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'), '/Port_80_From_Loreto_to_WebSrvrs')]",
      "properties": {
        "access": "Allow",
        "destinationAddressPrefixes": [
          "10.0.0.6",
          "10.0.0.8"
        ],
        "destinationPortRange": "80",
        "destinationPortRanges": [],
        "direction": "Inbound",
        "priority": 100,
        "protocol": "TCP",
        "sourceAddressPrefix": "76.103.227.48",
        "sourceAddressPrefixes": [],
        "sourcePortRange": "*",
        "sourcePortRanges": []
      },
      "type": "Microsoft.Network/networkSecurityGroups/securityRules"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Elk_nsg_name'))]"
      ],
      "name": "[concat(parameters('networkSecurityGroups_Elk_nsg_name'), '/SSH')]",
      "properties": {
        "access": "Allow",
        "destinationAddressPrefix": "10.1.0.4",
        "destinationAddressPrefixes": [],
        "destinationPortRange": "22",
        "destinationPortRanges": [],
        "direction": "Inbound",
        "priority": 200,
        "protocol": "TCP",
        "sourceAddressPrefix": "10.0.0.4",
        "sourceAddressPrefixes": [],
        "sourcePortRange": "*",
        "sourcePortRanges": []
      },
      "type": "Microsoft.Network/networkSecurityGroups/securityRules"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
      ],
      "name": "[concat(parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'), '/SSH-from-JumpBox')]",
      "properties": {
        "access": "Allow",
        "destinationAddressPrefix": "VirtualNetwork",
        "destinationAddressPrefixes": [],
        "destinationPortRange": "22",
        "destinationPortRanges": [],
        "direction": "Inbound",
        "priority": 120,
        "protocol": "TCP",
        "sourceAddressPrefix": "10.0.0.4",
        "sourceAddressPrefixes": [],
        "sourcePortRange": "*",
        "sourcePortRanges": []
      },
      "type": "Microsoft.Network/networkSecurityGroups/securityRules"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_2_West_name'))]"
      ],
      "location": "eastus",
      "name": "[parameters('virtualNetworks_Net_1_name')]",
      "properties": {
        "addressSpace": {
          "addressPrefixes": [
            "10.0.0.0/16"
          ]
        },
        "enableDdosProtection": false,
        "subnets": [
          {
            "name": "default",
            "properties": {
              "addressPrefix": "10.0.0.0/24",
              "delegations": [],
              "privateEndpointNetworkPolicies": "Enabled",
              "privateLinkServiceNetworkPolicies": "Enabled"
            }
          }
        ],
        "virtualNetworkPeerings": [
          {
            "name": "Red-World-East-to-Elk-West",
            "properties": {
              "allowForwardedTraffic": true,
              "allowGatewayTransit": false,
              "allowVirtualNetworkAccess": true,
              "peeringState": "Connected",
              "remoteAddressSpace": {
                "addressPrefixes": [
                  "10.1.0.0/16"
                ]
              },
              "remoteVirtualNetwork": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_2_West_name'))]"
              },
              "useRemoteGateways": false
            }
          }
        ]
      },
      "type": "Microsoft.Network/virtualNetworks"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_1_name'))]"
      ],
      "location": "westus2",
      "name": "[parameters('virtualNetworks_Net_2_West_name')]",
      "properties": {
        "addressSpace": {
          "addressPrefixes": [
            "10.1.0.0/16"
          ]
        },
        "enableDdosProtection": false,
        "subnets": [
          {
            "name": "default",
            "properties": {
              "addressPrefix": "10.1.0.0/24",
              "delegations": [],
              "privateEndpointNetworkPolicies": "Enabled",
              "privateLinkServiceNetworkPolicies": "Enabled"
            }
          }
        ],
        "virtualNetworkPeerings": [
          {
            "name": "Elk-West-to-RedWorld-East",
            "properties": {
              "allowForwardedTraffic": true,
              "allowGatewayTransit": false,
              "allowVirtualNetworkAccess": true,
              "peeringState": "Connected",
              "remoteAddressSpace": {
                "addressPrefixes": [
                  "10.0.0.0/16"
                ]
              },
              "remoteVirtualNetwork": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_1_name'))]"
              },
              "useRemoteGateways": false
            }
          }
        ]
      },
      "type": "Microsoft.Network/virtualNetworks"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_1_name'))]"
      ],
      "name": "[concat(parameters('virtualNetworks_Net_1_name'), '/default')]",
      "properties": {
        "addressPrefix": "10.0.0.0/24",
        "delegations": [],
        "privateEndpointNetworkPolicies": "Enabled",
        "privateLinkServiceNetworkPolicies": "Enabled"
      },
      "type": "Microsoft.Network/virtualNetworks/subnets"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_2_West_name'))]"
      ],
      "name": "[concat(parameters('virtualNetworks_Net_2_West_name'), '/default')]",
      "properties": {
        "addressPrefix": "10.1.0.0/24",
        "delegations": [],
        "privateEndpointNetworkPolicies": "Enabled",
        "privateLinkServiceNetworkPolicies": "Enabled"
      },
      "type": "Microsoft.Network/virtualNetworks/subnets"
    },
    {
      "apiVersion": "2021-07-01",
      "dependsOn": [
        "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_Web_1_name'))]",
        "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_Web_2_name'))]"
      ],
      "location": "eastus",
      "name": "[parameters('availabilitySets_Red_Web_Servers_name')]",
      "properties": {
        "platformFaultDomainCount": 2,
        "platformUpdateDomainCount": 5,
        "virtualMachines": [
          {
            "id": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_Web_1_name'))]"
          },
          {
            "id": "[resourceId('Microsoft.Compute/virtualMachines', parameters('virtualMachines_Web_2_name'))]"
          }
        ]
      },
      "sku": {
        "name": "Aligned"
      },
      "type": "Microsoft.Compute/availabilitySets"
    },
    {
      "apiVersion": "2021-07-01",
      "dependsOn": [
        "[resourceId('Microsoft.Compute/availabilitySets', parameters('availabilitySets_Red_Web_Servers_name'))]",
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_web_1741_name'))]"
      ],
      "location": "eastus",
      "name": "[parameters('virtualMachines_Web_1_name')]",
      "properties": {
        "availabilitySet": {
          "id": "[resourceId('Microsoft.Compute/availabilitySets', parameters('availabilitySets_Red_Web_Servers_name'))]"
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true
          }
        },
        "hardwareProfile": {
          "vmSize": "Standard_B1ms"
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_web_1741_name'))]"
            }
          ]
        },
        "osProfile": {
          "adminUsername": "ralph",
          "allowExtensionOperations": true,
          "computerName": "[parameters('virtualMachines_Web_1_name')]",
          "linuxConfiguration": {
            "disablePasswordAuthentication": true,
            "patchSettings": {
              "assessmentMode": "ImageDefault",
              "patchMode": "ImageDefault"
            },
            "provisionVMAgent": true,
            "ssh": {
              "publicKeys": [
                {
                  "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDKZvAYufZKjiXAioQdck28rHbnlWlp5srxVJuTE824jg+ZQFZ7ytzjoVWCnJY1vU2mnl693KeHz7iGvKABqKd0Yw4/EqhFwQdKE9qfbQVJ6Lix+oHXpesKncEDfEshhoa8krsw84wseiU6GwGLnpbR33km0RnUjl+E/3lKjBfLAKBBMcr52wdwmpf0sDgYgOZEYHxvlu7asICjA9Qyy0SrxJ6d1OHGAkQ4lgqnUODn52lXz2NyzOnrCYle/CUqYxdfUC5TmopWrWq30KKsAdkZ5TSeN4qqkpdJDsfun99U3VoOWfcuB7LRAH1JcV/m6EXnkrnL3UKX9WRnvsxXKHJ3a3b+ZgL8bsTuxOVEMpeiyVGeIWktkr5DQrB/A43MCFhExSQ3IZpN+QTxiINVTNuklU5RyYV7pU/BqKrJkuaHOwSoDpODlXfxcqrRbZfClAoaRDitFQBGdl8s3us1uclj4TKi495I94k5WHCNB+oo2Tn9sogU34IGcwsjHaatXp8= ralph@Ralph-5420",
                  "path": "/home/ralph/.ssh/authorized_keys"
                }
              ]
            }
          },
          "requireGuestProvisionSignal": true,
          "secrets": []
        },
        "storageProfile": {
          "dataDisks": [],
          "imageReference": {
            "offer": "0001-com-ubuntu-server-focal",
            "publisher": "canonical",
            "sku": "20_04-lts-gen2",
            "version": "latest"
          },
          "osDisk": {
            "caching": "ReadWrite",
            "createOption": "FromImage",
            "deleteOption": "Detach",
            "managedDisk": {
              "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_Web_1_name'), '_OsDisk_1_fb5968d090a84a9fb769980e37e5f51d'))]"
            },
            "name": "[concat(parameters('virtualMachines_Web_1_name'), '_OsDisk_1_fb5968d090a84a9fb769980e37e5f51d')]",
            "osType": "Linux"
          }
        }
      },
      "type": "Microsoft.Compute/virtualMachines"
    },
    {
      "apiVersion": "2021-07-01",
      "dependsOn": [
        "[resourceId('Microsoft.Compute/availabilitySets', parameters('availabilitySets_Red_Web_Servers_name'))]",
        "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_web_2958_name'))]"
      ],
      "location": "eastus",
      "name": "[parameters('virtualMachines_Web_2_name')]",
      "properties": {
        "availabilitySet": {
          "id": "[resourceId('Microsoft.Compute/availabilitySets', parameters('availabilitySets_Red_Web_Servers_name'))]"
        },
        "diagnosticsProfile": {
          "bootDiagnostics": {
            "enabled": true
          }
        },
        "hardwareProfile": {
          "vmSize": "Standard_B1ms"
        },
        "networkProfile": {
          "networkInterfaces": [
            {
              "id": "[resourceId('Microsoft.Network/networkInterfaces', parameters('networkInterfaces_web_2958_name'))]"
            }
          ]
        },
        "osProfile": {
          "adminUsername": "ralph",
          "allowExtensionOperations": true,
          "computerName": "[parameters('virtualMachines_Web_2_name')]",
          "linuxConfiguration": {
            "disablePasswordAuthentication": true,
            "patchSettings": {
              "assessmentMode": "ImageDefault",
              "patchMode": "ImageDefault"
            },
            "provisionVMAgent": true,
            "ssh": {
              "publicKeys": [
                {
                  "keyData": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDKZvAYufZKjiXAioQdck28rHbnlWlp5srxVJuTE824jg+ZQFZ7ytzjoVWCnJY1vU2mnl693KeHz7iGvKABqKd0Yw4/EqhFwQdKE9qfbQVJ6Lix+oHXpesKncEDfEshhoa8krsw84wseiU6GwGLnpbR33km0RnUjl+E/3lKjBfLAKBBMcr52wdwmpf0sDgYgOZEYHxvlu7asICjA9Qyy0SrxJ6d1OHGAkQ4lgqnUODn52lXz2NyzOnrCYle/CUqYxdfUC5TmopWrWq30KKsAdkZ5TSeN4qqkpdJDsfun99U3VoOWfcuB7LRAH1JcV/m6EXnkrnL3UKX9WRnvsxXKHJ3a3b+ZgL8bsTuxOVEMpeiyVGeIWktkr5DQrB/A43MCFhExSQ3IZpN+QTxiINVTNuklU5RyYV7pU/BqKrJkuaHOwSoDpODlXfxcqrRbZfClAoaRDitFQBGdl8s3us1uclj4TKi495I94k5WHCNB+oo2Tn9sogU34IGcwsjHaatXp8= ralph@Ralph-5420",
                  "path": "/home/ralph/.ssh/authorized_keys"
                }
              ]
            }
          },
          "requireGuestProvisionSignal": true,
          "secrets": []
        },
        "storageProfile": {
          "dataDisks": [],
          "imageReference": {
            "offer": "0001-com-ubuntu-server-focal",
            "publisher": "canonical",
            "sku": "20_04-lts-gen2",
            "version": "latest"
          },
          "osDisk": {
            "caching": "ReadWrite",
            "createOption": "FromImage",
            "deleteOption": "Detach",
            "managedDisk": {
              "id": "[resourceId('Microsoft.Compute/disks', concat(parameters('virtualMachines_Web_2_name'), '_OsDisk_1_5a3796c10562484f807cebac03e0723a'))]"
            },
            "name": "[concat(parameters('virtualMachines_Web_2_name'), '_OsDisk_1_5a3796c10562484f807cebac03e0723a')]",
            "osType": "Linux"
          }
        }
      },
      "type": "Microsoft.Compute/virtualMachines"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_Red_Web_LB_FrontEnd_IP_name'))]",
        "[resourceId('Microsoft.Network/loadBalancers/backendAddressPools', parameters('loadBalancers_Red_Web_LoadBalancer_name'), 'Red-Web-Backend-Pool')]"
      ],
      "location": "eastus",
      "name": "[parameters('loadBalancers_Red_Web_LoadBalancer_name')]",
      "properties": {
        "backendAddressPools": [
          {
            "name": "Red-Web-Backend-Pool",
            "properties": {}
          }
        ],
        "frontendIPConfigurations": [
          {
            "name": "Red-Web-LB-FrontEnd",
            "properties": {
              "privateIPAllocationMethod": "Dynamic",
              "publicIPAddress": {
                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_Red_Web_LB_FrontEnd_IP_name'))]"
              }
            }
          }
        ],
        "inboundNatPools": [],
        "inboundNatRules": [],
        "loadBalancingRules": [
          {
            "name": "FrontEnd-LoadBalancer-Rule",
            "properties": {
              "backendAddressPool": {
                "id": "[resourceId('Microsoft.Network/loadBalancers/backendAddressPools', parameters('loadBalancers_Red_Web_LoadBalancer_name'), 'Red-Web-Backend-Pool')]"
              },
              "backendPort": 80,
              "enableFloatingIP": false,
              "enableTcpReset": false,
              "frontendIPConfiguration": {
                "id": "[concat(resourceId('Microsoft.Network/loadBalancers', parameters('loadBalancers_Red_Web_LoadBalancer_name')), '/frontendIPConfigurations/Red-Web-LB-FrontEnd')]"
              },
              "frontendPort": 80,
              "idleTimeoutInMinutes": 4,
              "loadDistribution": "SourceIPProtocol",
              "probe": {
                "id": "[concat(resourceId('Microsoft.Network/loadBalancers', parameters('loadBalancers_Red_Web_LoadBalancer_name')), '/probes/Front-End-Web-LB-Health-Probe')]"
              },
              "protocol": "Tcp"
            }
          }
        ],
        "probes": [
          {
            "name": "Front-End-Web-LB-Health-Probe",
            "properties": {
              "intervalInSeconds": 20,
              "numberOfProbes": 2,
              "port": 80,
              "protocol": "Tcp"
            }
          }
        ]
      },
      "sku": {
        "name": "Basic",
        "tier": "Regional"
      },
      "type": "Microsoft.Network/loadBalancers"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_2_West_name'))]",
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_1_name'))]"
      ],
      "name": "[concat(parameters('virtualNetworks_Net_2_West_name'), '/Elk-West-to-RedWorld-East')]",
      "properties": {
        "allowForwardedTraffic": true,
        "allowGatewayTransit": false,
        "allowVirtualNetworkAccess": true,
        "peeringState": "Connected",
        "remoteAddressSpace": {
          "addressPrefixes": [
            "10.0.0.0/16"
          ]
        },
        "remoteVirtualNetwork": {
          "id": "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_1_name'))]"
        },
        "useRemoteGateways": false
      },
      "type": "Microsoft.Network/virtualNetworks/virtualNetworkPeerings"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_1_name'))]",
        "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_2_West_name'))]"
      ],
      "name": "[concat(parameters('virtualNetworks_Net_1_name'), '/Red-World-East-to-Elk-West')]",
      "properties": {
        "allowForwardedTraffic": true,
        "allowGatewayTransit": false,
        "allowVirtualNetworkAccess": true,
        "peeringState": "Connected",
        "remoteAddressSpace": {
          "addressPrefixes": [
            "10.1.0.0/16"
          ]
        },
        "remoteVirtualNetwork": {
          "id": "[resourceId('Microsoft.Network/virtualNetworks', parameters('virtualNetworks_Net_2_West_name'))]"
        },
        "useRemoteGateways": false
      },
      "type": "Microsoft.Network/virtualNetworks/virtualNetworkPeerings"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_Elk_ip_name'))]",
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Net_2_West_name'), 'default')]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Elk_nsg_name'))]"
      ],
      "location": "westus2",
      "name": "[parameters('networkInterfaces_elk466_name')]",
      "properties": {
        "dnsSettings": {
          "dnsServers": []
        },
        "enableAcceleratedNetworking": true,
        "enableIPForwarding": false,
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "properties": {
              "primary": true,
              "privateIPAddress": "10.1.0.4",
              "privateIPAddressVersion": "IPv4",
              "privateIPAllocationMethod": "Dynamic",
              "publicIPAddress": {
                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_Elk_ip_name'))]"
              },
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Net_2_West_name'), 'default')]"
              }
            }
          }
        ],
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Elk_nsg_name'))]"
        }
      },
      "type": "Microsoft.Network/networkInterfaces"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_Jump_Box_Provisioner_ip_name'))]",
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Net_1_name'), 'default')]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
      ],
      "location": "eastus",
      "name": "[parameters('networkInterfaces_jump_box_provisioner46_name')]",
      "properties": {
        "dnsSettings": {
          "dnsServers": []
        },
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "properties": {
              "primary": true,
              "privateIPAddress": "10.0.0.4",
              "privateIPAddressVersion": "IPv4",
              "privateIPAllocationMethod": "Dynamic",
              "publicIPAddress": {
                "id": "[resourceId('Microsoft.Network/publicIPAddresses', parameters('publicIPAddresses_Jump_Box_Provisioner_ip_name'))]"
              },
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Net_1_name'), 'default')]"
              }
            }
          }
        ],
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
        }
      },
      "type": "Microsoft.Network/networkInterfaces"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Net_1_name'), 'default')]",
        "[resourceId('Microsoft.Network/loadBalancers/backendAddressPools', parameters('loadBalancers_Red_Web_LoadBalancer_name'), 'Red-Web-Backend-Pool')]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
      ],
      "location": "eastus",
      "name": "[parameters('networkInterfaces_web_1741_name')]",
      "properties": {
        "dnsSettings": {
          "dnsServers": []
        },
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "properties": {
              "loadBalancerBackendAddressPools": [
                {
                  "id": "[resourceId('Microsoft.Network/loadBalancers/backendAddressPools', parameters('loadBalancers_Red_Web_LoadBalancer_name'), 'Red-Web-Backend-Pool')]"
                }
              ],
              "primary": true,
              "privateIPAddress": "10.0.0.8",
              "privateIPAddressVersion": "IPv4",
              "privateIPAllocationMethod": "Dynamic",
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Net_1_name'), 'default')]"
              }
            }
          }
        ],
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
        }
      },
      "type": "Microsoft.Network/networkInterfaces"
    },
    {
      "apiVersion": "2020-11-01",
      "dependsOn": [
        "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Net_1_name'), 'default')]",
        "[resourceId('Microsoft.Network/loadBalancers/backendAddressPools', parameters('loadBalancers_Red_Web_LoadBalancer_name'), 'Red-Web-Backend-Pool')]",
        "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
      ],
      "location": "eastus",
      "name": "[parameters('networkInterfaces_web_2958_name')]",
      "properties": {
        "dnsSettings": {
          "dnsServers": []
        },
        "enableAcceleratedNetworking": false,
        "enableIPForwarding": false,
        "ipConfigurations": [
          {
            "name": "ipconfig1",
            "properties": {
              "loadBalancerBackendAddressPools": [
                {
                  "id": "[resourceId('Microsoft.Network/loadBalancers/backendAddressPools', parameters('loadBalancers_Red_Web_LoadBalancer_name'), 'Red-Web-Backend-Pool')]"
                }
              ],
              "primary": true,
              "privateIPAddress": "10.0.0.6",
              "privateIPAddressVersion": "IPv4",
              "privateIPAllocationMethod": "Dynamic",
              "subnet": {
                "id": "[resourceId('Microsoft.Network/virtualNetworks/subnets', parameters('virtualNetworks_Net_1_name'), 'default')]"
              }
            }
          }
        ],
        "networkSecurityGroup": {
          "id": "[resourceId('Microsoft.Network/networkSecurityGroups', parameters('networkSecurityGroups_Red_Network_Security_Group_1_name'))]"
        }
      },
      "type": "Microsoft.Network/networkInterfaces"
    }
  ],
  "variables": {}
}
